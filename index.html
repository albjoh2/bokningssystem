<html>
  <head>
    <meta charset="UTF-8" />
    <title>Conference booking</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script
      src="https://unpkg.com/react@16/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script src="script.js" defer></script>
    <script>
      $(function () {
        $("#accordion").accordion();
      });
    </script>
    <link rel="shortcut icon" href="icon.svg" type="svg" />
  </head>

  <body>
    <button onclick="darkMode()" id="modeButton">ðŸŒ™</button>
    <div id="underlay" onclick="closedialog()"></div>
    <div class="menu">
      <img
        onclick="showpage('welcome');"
        src="icon.svg"
        alt=""
        style="
          height: 30px;
          align-self: center;
          left: 50px;
          position: absolute;
          cursor: pointer;
        "
      />
      <button class="welcome" onclick="showpage('welcome');">Welcome</button>
      <button class="booking" onclick="showpage('booking');">Booking</button>
      <button class="history" onclick="showpage('history');">History</button>
      <button class="search" onclick="showpage('search');">Search</button>
      <button class="about" onclick="showpage('about');">About</button>
      <button class="contact" onclick="showpage('contact');">Contact</button>
      <button style="cursor: auto">|</button>
      <button
        class="register"
        style="border: 1px #df6516 solid; padding: 0 10; border-radius: 50px"
        onclick="showDialog('register');"
      >
        Register
      </button>
      <button class="login" onclick="showDialog('login');">Login</button>
    </div>

    <div id="welcome" class="page">
      <h1 id="welcomeMessage">Welcome</h1>
      <div style="display: flex">
        <div style="width: 50%">
          <p style="margin: 30px; font-size: 44px; font-weight: 100">
            Book exclusive conference rooms.
          </p>
        </div>
        <div style="width: 100%">
          <img src="illustration.svg" alt="" />
        </div>
      </div>
    </div>

    <div id="booking" class="page">
      <h1>Booking</h1>

      <label for="room"
        >Room
        <input
          oninput="validateRoom()"
          type="number"
          name="resIDA"
          id="resIDA"
        />
        <p id="roomError" class="error"></p>
      </label>
      <input value="Search" type="button" onclick="searchAvailability()" />

      <div id="OutputDivSearchA"></div>
    </div>

    <div id="history" class="page">
      <h1>History</h1>
      <script type="text/babel">
        class Bookings extends React.Component {
          constructor(props) {
            super(props);
            this.state = {
              data: [],
            };
            this.handleClick = this.handleClick.bind(this);
          }
          async handleClick() {
            if (localStorage.getItem("username") == null) {
              alert(
                "You need to login or register a user to see your bookings"
              );
              return;
            }
            let bodyValues = {
              customerID: `a22albjo${localStorage.getItem("username")}`,
              type: apptype,
            };

            const response = await fetch(
              "./booking/getcustomerbookings_JSON.php",
              {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(bodyValues),
              }
            )
              .then((response) => response.json())
              .then((data) => {
                console.log(data);
                this.setState({ data: data });
              });
          }
          render() {
            return (
              <div>
                <button onClick={this.handleClick}>Click to Fetch</button>
                <ul>
                  {this.state.data.map((item) => (
                    <li key={item.bookingID}>
                      {item.category} {item.customerID} {item.resourceID}{" "}
                      {item.date} {item.location}
                    </li>
                  ))}
                </ul>
              </div>
            );
          }
        }

        ReactDOM.render(<Bookings />, document.getElementById("content"));
      </script>
      <div
        id="content"
        style="width: 100%; text-align: center; margin: 20px"
      ></div>
    </div>

    <div id="search" class="page">
      <h1>Search</h1>
      <div
        style="
          display: flex;
          flex-direction: column;
          justify-content: center;
          gap: 5px;
        "
      >
        ID:<input
          type="text"
          name="resIDS"
          id="resIDS"
          onchange="searchResources()"
          onkeyup="searchResources()"
        />
        People:<input
          type="text"
          name="resNameS"
          id="resNameS"
          onchange="searchResources()"
          onkeyup="searchResources()"
        />
        Location:<input
          type="text"
          name="resLocationS"
          id="resLocationS"
          onchange="searchResources()"
          onkeyup="searchResources()"
        />
        Items:<input
          type="text"
          name="resCompanyS"
          id="resCompanyS"
          onchange="searchResources()"
          onkeyup="searchResources()"
        />

        <input
          type="button"
          onclick="searchResources();"
          value="Search Resource"
        />

        <div id="divOutput"></div>
      </div>
    </div>

    <div id="about" class="page">
      <h1>About</h1>
    </div>

    <div id="contact" class="page">
      <h1>Contact</h1>
    </div>

    <div id="register" class="dialog">
      <h3>Register</h3>
      <label for="customerfnameC"
        >Firstname:
        <input type="text" name="customerfnameC" id="customerfnameC" />
      </label>
      <label for="customerlnameC"
        >Lastname:
        <input type="text" name="customerlnameC" id="customerlnameC" />
      </label>
      <label for="customeraddressC"
        >Address:
        <input type="text" name="customeraddressC" id="customeraddressC" />
      </label>

      <label for="email"
        >Email:
        <input
          type="email"
          name="email"
          id="email"
          onfocusout="validateEmail()"
        />
        <p id="emailError" class="error"></p>
      </label>
      <label for="user"
        >Username:
        <input type="text" name="user" id="user" />
      </label>
      <label for="pass"
        >Password:
        <input
          type="password"
          name="pass"
          id="pass"
          oninput="liveValidation()"
        />
      </label>
      <label for="passAgain"
        >Confirm password:
        <input
          type="password"
          name="passAgain"
          id="passAgain"
          oninput="liveValidation()"
        />
        <p id="passwordError" class="error"></p>
      </label>
      <label id="checkboxLabel" for="accept"
        >Accept <a style="color: black" href="http://">integritypolicy</a>:
        <input type="checkbox" name="accept" id="checkbox" />
        <p id="checkboxError" class="error"></p>
      </label>
      <input type="button" onclick="validate()" value="Skapa anvÃ¤ndare" />
    </div>

    <div id="login" class="dialog">
      <h3>LogIn</h3>
      <div style="display: flex; flex-direction: column">
        <label for="username" style="font-size: 12">
          Username
          <input type="text" name="username" id="username" />
        </label>
        <label for="password" style="font-size: 12">
          Password
          <input type="password" name="password" id="password" />
        </label>
        <input
          type="submit"
          value="Logga in"
          onclick="newName()"
          style="margin: 5px; cursor: pointer"
        />
      </div>
    </div>
  </body>
</html>
